process HFTEST  = {

 untracked PSet maxEvents = {untracked int32 input = 1000}

   include "FWCore/MessageService/data/MessageLogger.cfi"
#   replace MessageLogger.cout.threshold = "DEBUG"
   replace MessageLogger.cout.threshold = "ERROR"
   replace MessageLogger.cerr.default.limit = 100

  service = Timing {}
  service = RandomNumberGeneratorService {
		untracked uint32 sourceSeed = 135799753
		PSet moduleSeeds =
		{
			untracked uint32 VtxSmeared = 123456789
                        untracked uint32 g4SimHits = 9876
		}
  }
      
  include "SimGeneral/HepPDTESSource/data/pdt.cfi"

  source = FlatRandomEGunSource
   {
      untracked uint32 firstRun  = 1
      untracked PSet  PGunParameters =
      {
         # you can request more than 1 particle
         untracked vint32 PartID = {11,211}
         untracked double MinEta = 3.02
         untracked double MaxEta = 5.1
         untracked double MinPhi = -3.14159265358979323846 
         untracked double MaxPhi =  3.14159265358979323846
         untracked double MinE   = 1000.0
         untracked double MaxE   = 5000.0
      }
   }



   module VtxSmeared = GaussEvtVtxGenerator {
         double MeanX = 0.
         double MeanY = 0.
         double MeanZ = 0.
         double SigmaX = 0.0001
         double SigmaY = 0.0001
         double SigmaZ = 0.0001
   }

#--- Magnetic Field 		
   include "MagneticField/Engine/data/volumeBasedMagneticField.cfi"

#--- Full geometry or only HCAL+ECAL Geometry
###   include "Geometry/CMSCommonData/data/cmsIdealGeometryXML.cfi"
###   include "Geometry/TrackerNumberingBuilder/data/trackerNumberingGeometry.cfi"
   include "Geometry/CMSCommonData/data/ecalhcalGeometryXML.cfi"

   include "SimG4Core/Application/data/g4SimHits.cfi"
   replace g4SimHits.UseMagneticField = false

   module o1 = PoolOutputModule {untracked string fileName ="HF_test_ecalplushcalonly_nofield.root"} 


   path p1 = { VtxSmeared, g4SimHits}
   endpath outpath = { o1 }

}
